# JsonStream Examples

This directory contains practical examples demonstrating how to use the JsonStream PHP library.

## Getting Started

Run any of the examples:

```bash
php 01-read-large-file.php
php 02-jsonpath-filtering.php
php 03-pagination.php
# ... etc
```

## Examples

### 01. Reading Large Files
**File**: `01-read-large-file.php`

Demonstrates how to read large JSON files efficiently using streaming, showing memory usage and performance metrics.

**Key concepts:**
- Creating a StreamReader from a file
- Iterating through large arrays
- Monitoring memory usage
- Performance measurement

### 02. JSONPath Filtering
**File**: `02-jsonpath-filtering.php`

Shows how to use JSONPath expressions to extract specific data from JSON files without loading everything into memory.

**Key concepts:**
- Using JSONPath expressions
- Extracting nested data
- Array indexing and slicing
- Filtering during parsing

### 03. Pagination
**File**: `03-pagination.php`

Demonstrates implementing pagination using `skip()` and `limit()` methods, and using JSONPath for range selection.

**Key concepts:**
- Skip and limit operations
- Implementing page-based navigation
- Efficient offset-based queries
- JSONPath array slicing

### 04. Working with Nested Structures
**File**: `05-nested-structures.php`

Demonstrates reading complex nested JSON structures with multiple levels of objects and arrays.

**Key concepts:**
- Reading nested data
- Working with hierarchical data
- Navigating multi-level structures
- Processing complex object graphs

### 05. Error Handling
**File**: `06-error-handling.php`

Shows proper error handling for various failure scenarios including missing files, parse errors, and invalid JSONPath.

**Key concepts:**
- IOException handling
- ParseException handling
- PathException handling
- Proper resource cleanup
- Try-finally patterns

## Sample Data

The `data/` directory contains sample JSON files generated by `generate-sample-data.php`:

- **users.json** - 1000 users for testing large file operations
- **nested-data.json** - Complex nested structure with users and posts
- **small-sample.json** - Small 10-item array for quick tests

## Running All Examples

To run all examples in sequence:

```bash
for file in 0*.php; do
    echo "Running $file..."
    php "$file"
    echo ""
done
```

## Requirements

- PHP 8.1 or higher
- JsonStream library installed via Composer

## Tips

1. **Memory Monitoring**: All examples show memory usage to demonstrate the streaming benefits
2. **Performance**: Examples include timing information to measure throughput
3. **Error Handling**: Examples demonstrate comprehensive error handling patterns
4. **Customization**: Feel free to modify the examples to test with your own data

## Further Reading

- [Main README](../README.md) - Library overview and installation
- [API Reference](../README.md#api-reference) - Complete API documentation
- [Performance Guide](../PERFORMANCE.md) - Detailed performance analysis
